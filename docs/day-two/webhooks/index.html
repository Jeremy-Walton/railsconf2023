<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-day-two/webhooks">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Catch Me If You Can: Learning to Process Webhooks in Your Rails App | Rails Conf 2023</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.launchtabs.com/railsconf2023/img/favicon.svg"><meta data-rh="true" name="twitter:image" content="https://www.launchtabs.com/railsconf2023/img/favicon.svg"><meta data-rh="true" property="og:url" content="https://www.launchtabs.com/railsconf2023/docs/day-two/webhooks"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Catch Me If You Can: Learning to Process Webhooks in Your Rails App | Rails Conf 2023"><meta data-rh="true" name="description" content="In this workshop, you’ll learn how to catch and process webhooks like a pro."><meta data-rh="true" property="og:description" content="In this workshop, you’ll learn how to catch and process webhooks like a pro."><link data-rh="true" rel="icon" href="/railsconf2023/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://www.launchtabs.com/railsconf2023/docs/day-two/webhooks"><link data-rh="true" rel="alternate" href="https://www.launchtabs.com/railsconf2023/docs/day-two/webhooks" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.launchtabs.com/railsconf2023/docs/day-two/webhooks" hreflang="x-default"><link rel="stylesheet" href="/railsconf2023/assets/css/styles.cb56662f.css">
<link rel="preload" href="/railsconf2023/assets/js/runtime~main.01102aae.js" as="script">
<link rel="preload" href="/railsconf2023/assets/js/main.6229984f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/railsconf2023/"><div class="navbar__logo"><img src="/railsconf2023/img/favicon.svg" alt="Rails Conf 2023 Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/railsconf2023/img/favicon.svg" alt="Rails Conf 2023 Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Rails Conf 2023</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/railsconf2023/docs/overview">Talks</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Jeremy-Walton/railsconf2023" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/railsconf2023/docs/overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/railsconf2023/docs/category/day-one---april-24">Day One - April 24</a><button aria-label="Toggle the collapsible sidebar category &#x27;Day One - April 24&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/railsconf2023/docs/category/day-two---april-25">Day Two - April 25</a><button aria-label="Toggle the collapsible sidebar category &#x27;Day Two - April 25&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/railsconf2023/docs/day-two/keynote-gary-ware">The Power of Improv: Unlocking Your Creative Potential as a Developer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/railsconf2023/docs/day-two/burnout">Managing the Burnout Burndown</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/railsconf2023/docs/day-two/turbo-streams-action-cable">Exploring the Power of Turbo Streams and ActionCable</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/railsconf2023/docs/day-two/webhooks">Catch Me If You Can: Learning to Process Webhooks in Your Rails App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/railsconf2023/docs/day-two/complexity">A Brewer&#x27;s Guide to Filtering out Complexity and Churn</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/railsconf2023/docs/day-two/mentoring">Building a more effective, bidirectional mentor-mentee relationship</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/railsconf2023/docs/day-two/capybara">Teaching Capybara Testing - An Illustrated Adventure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/railsconf2023/docs/day-two/queries">A custom design pattern for building dynamic ActiveRecord queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/railsconf2023/docs/day-two/pwa">Building an offline experience with a Rails-powered PWA</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/railsconf2023/docs/day-two/microservices">Applying microservices patterns to a modular monolith</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/railsconf2023/docs/day-two/machine-learning">Forecasting the Future: An Introduction to Machine Learning for Weather Prediction in Native Ruby</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/railsconf2023/docs/category/day-three---april-26">Day Three - April 26</a><button aria-label="Toggle the collapsible sidebar category &#x27;Day Three - April 26&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/railsconf2023/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/railsconf2023/docs/category/day-two---april-25"><span itemprop="name">Day Two - April 25</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Catch Me If You Can: Learning to Process Webhooks in Your Rails App</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Catch Me If You Can: Learning to Process Webhooks in Your Rails App</h1><p>In this workshop, you’ll learn how to catch and process webhooks like a pro.</p><div class="card_vceO"><img src="https://sessionize.com/image/b238-400o400o2-3XR9A4sGhZApiZ3xKKfav7.jpg" class="image_EDOu"><div class="description_Vdg7"><p>Colin Loretz</p><p class="position_CmtU">Senior Software Engineer at Orbit</p></div></div><div class="card_vceO"><img src="https://sessionize.com/image/5bb3-400o400o2-BagGwXKP82tmypy9at4AkN.jpeg" class="image_EDOu"><div class="description_Vdg7"><p>Chris Oliver</p><p class="position_CmtU">Owner of GoRails</p></div></div><p><a href="https://railsconf2023.sessionize.com/session/453439" target="_blank" rel="noopener noreferrer">Schedule Entry</a></p><p><a href="https://github.com/colinloretz/railsconf-webhooks/blob/main/slides/railsconf.pdf" target="_blank" rel="noopener noreferrer">Slides</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="attendees">Attendees<a href="#attendees" class="hash-link" aria-label="Direct link to Attendees" title="Direct link to Attendees">​</a></h2><ul><li>Jeremy</li></ul><table><thead><tr><th>Relevancy</th><th>Interesting</th></tr></thead><tbody><tr><td>4</td><td>5</td></tr></tbody></table><p>Was relevant but very basic.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="notes">Notes<a href="#notes" class="hash-link" aria-label="Direct link to Notes" title="Direct link to Notes">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-webhooks">Why Webhooks?<a href="#why-webhooks" class="hash-link" aria-label="Direct link to Why Webhooks?" title="Direct link to Why Webhooks?">​</a></h3><p>Any service that wants to publish data to you rather than you reaching out.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="github-repo">GitHub Repo<a href="#github-repo" class="hash-link" aria-label="Direct link to GitHub Repo" title="Direct link to GitHub Repo">​</a></h3><p><a href="https://github.com/colinloretz/railsconf-webhooks" target="_blank" rel="noopener noreferrer">https://github.com/colinloretz/railsconf-webhooks</a></p><p>Receive a POST request.</p><p>CSRF tokens need to be ignored for inbound requests and use a different method to authenticate.</p><p><em>Return to the provider as soon as possible. Use background jobs or something since they will continue to send until they get a good response.</em></p><p><a href="https://webhooks.fyi/" target="_blank" rel="noopener noreferrer">Webhooks.fyi</a></p><p>Github sends pings. May want to add a before action to check that.</p><p>Look at <a href="https://github.com/rails/rails/blob/main/actionmailbox/app/models/action_mailbox" target="_blank" rel="noopener noreferrer">rails/actionmailbox/app/models/action_mailbox at main · rails/rails · GitHub</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="security">Security<a href="#security" class="hash-link" aria-label="Direct link to Security" title="Direct link to Security">​</a></h3><ul><li>Verification methods<ul><li>TLS, Oath, Asymetric keys, HMAC</li></ul></li><li>Replay Attacks</li><li>Dataless notifications</li></ul><p>The talk was very introductory as to how to process webhooks and structure your endpoints.
Two main takeaways:</p><ul><li>Look at how Rails does this for ActionMailBox and emulate that pattern (structure and strategy)</li><li>Capture the data in something like InboundWebhooks model and create background jobs to process them later (This is effectively Rails pattern). This means you can respond quickly to the hook and move potential bottlenecks from your controllers to your database.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Jeremy-Walton/railsconf2023/tree/main/packages/create-docusaurus/templates/shared/docs/day-two/webhooks.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/railsconf2023/docs/day-two/turbo-streams-action-cable"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Exploring the Power of Turbo Streams and ActionCable</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/railsconf2023/docs/day-two/complexity"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">A Brewer&#x27;s Guide to Filtering out Complexity and Churn</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#attendees" class="table-of-contents__link toc-highlight">Attendees</a></li><li><a href="#notes" class="table-of-contents__link toc-highlight">Notes</a><ul><li><a href="#why-webhooks" class="table-of-contents__link toc-highlight">Why Webhooks?</a></li><li><a href="#github-repo" class="table-of-contents__link toc-highlight">GitHub Repo</a></li><li><a href="#security" class="table-of-contents__link toc-highlight">Security</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Pages</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/railsconf2023/docs/overview">Talks</a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://railsconf.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Rails Conf<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/2023railsconf/shared_invite/zt-1u89hjehv-pPIemz6JzDuLElY8uXOa8w" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Jeremy-Walton/railsconf2023" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Jeremy Walton. Built with Docusaurus.</div></div></div></footer></div>
<script src="/railsconf2023/assets/js/runtime~main.01102aae.js"></script>
<script src="/railsconf2023/assets/js/main.6229984f.js"></script>
</body>
</html>