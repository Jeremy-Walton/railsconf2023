"use strict";(self.webpackChunkrailsconf_2023=self.webpackChunkrailsconf_2023||[]).push([[536],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>h});var a=r(7294);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var s=a.createContext({}),c=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},u=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var r=e.components,i=e.mdxType,n=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),p=c(r),d=i,h=p["".concat(s,".").concat(d)]||p[d]||m[d]||n;return r?a.createElement(h,l(l({ref:t},u),{},{components:r})):a.createElement(h,l({ref:t},u))}));function h(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var n=r.length,l=new Array(n);l[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[p]="string"==typeof e?e:i,l[1]=o;for(var c=2;c<n;c++)l[c]=r[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},5408:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(7294);const i={card:"card_vceO",image:"image_EDOu",description:"description_Vdg7",position:"position_CmtU"};function n(e){let{imageUrl:t,name:r,position:n}=e;return a.createElement("div",{className:i.card},a.createElement("img",{src:t,className:i.image}),a.createElement("div",{className:i.description},a.createElement("p",null,r),a.createElement("p",{className:i.position},n)))}},9983:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(7294);const i={video:"video_lqCn"};function n(e){let{src:t}=e;return a.createElement("iframe",{className:i.video,width:"100%",height:"auto",src:t,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})}},7106:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>c,toc:()=>p});var a=r(7462),i=(r(7294),r(3905)),n=r(5408),l=r(9983);const o={sidebar_position:10},s="Applying microservices patterns to a modular monolith",c={unversionedId:"day-two/microservices",id:"day-two/microservices",title:"Applying microservices patterns to a modular monolith",description:"Dealing with legacy monoliths can be challenging due to accumulated technical debt. When faced with this situation, we usually start looking at different strategies to solve this, like microservices, engines, and modularization, just to name a few.",source:"@site/docs/day-two/microservices.mdx",sourceDirName:"day-two",slug:"/day-two/microservices",permalink:"/railsconf2023/docs/day-two/microservices",draft:!1,editUrl:"https://github.com/Jeremy-Walton/railsconf2023/tree/main/docs/day-two/microservices.mdx",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10},sidebar:"talksSidebar",previous:{title:"Building an offline experience with a Rails-powered PWA",permalink:"/railsconf2023/docs/day-two/pwa"},next:{title:"Forecasting the Future: An Introduction to Machine Learning for Weather Prediction in Native Ruby",permalink:"/railsconf2023/docs/day-two/machine-learning"}},u={},p=[{value:"Attendees",id:"attendees",level:2},{value:"Notes",id:"notes",level:2},{value:"His Journey",id:"his-journey",level:3},{value:"Monolith",id:"monolith",level:4},{value:"Microservices",id:"microservices",level:4},{value:"Modularization",id:"modularization",level:4},{value:"Cross-pollination between architectures",id:"cross-pollination-between-architectures",level:4},{value:"Their Domain",id:"their-domain",level:3},{value:"Patterns",id:"patterns",level:4},{value:"Pattern Explanations",id:"pattern-explanations",level:3},{value:"Microservices Patterns",id:"microservices-patterns",level:4},{value:"Example App",id:"example-app",level:3},{value:"Demo",id:"demo",level:3}],m={toc:p},d="wrapper";function h(e){let{components:t,...r}=e;return(0,i.kt)(d,(0,a.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"applying-microservices-patterns-to-a-modular-monolith"},"Applying microservices patterns to a modular monolith"),(0,i.kt)("p",null,"Dealing with legacy monoliths can be challenging due to accumulated technical debt. When faced with this situation, we usually start looking at different strategies to solve this, like microservices, engines, and modularization, just to name a few."),(0,i.kt)(n.Z,{name:"Guillermo Aguirre",position:"Senior Software Engineer @ Rootstrap",imageUrl:"https://sessionize.com/image/bb86-400o400o2-DRrD2o6Uf4YyEfNDeKAfzY.png",mdxType:"Speaker"}),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://railsconf2023.sessionize.com/session/452737"},"Schedule Entry")),(0,i.kt)(l.Z,{src:"https://www.youtube.com/embed/4zrQAJ0RlI4",mdxType:"Video"}),(0,i.kt)("h2",{id:"attendees"},"Attendees"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Jeremy"),(0,i.kt)("li",{parentName:"ul"},"Josh"),(0,i.kt)("li",{parentName:"ul"},"Kyle")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Relevancy"),(0,i.kt)("th",{parentName:"tr",align:null},"Interesting"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"7, 8"),(0,i.kt)("td",{parentName:"tr",align:null},"8, 9")))),(0,i.kt)("h2",{id:"notes"},"Notes"),(0,i.kt)("h3",{id:"his-journey"},"His Journey"),(0,i.kt)("p",null,"Started 6 years ago."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"MVPs"),(0,i.kt)("li",{parentName:"ul"},"Big monoliths"),(0,i.kt)("li",{parentName:"ul"},"Microservices")),(0,i.kt)("h4",{id:"monolith"},"Monolith"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The good",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Widely used"),(0,i.kt)("li",{parentName:"ul"},"Nothing wrong with them"))),(0,i.kt)("li",{parentName:"ul"},"His experience",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Large god objects"))),(0,i.kt)("li",{parentName:"ul"},"The bad",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Long deployment times"),(0,i.kt)("li",{parentName:"ul"},"Tightly coupled code -> harder to maintain & extend")))),(0,i.kt)("h4",{id:"microservices"},"Microservices"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The good",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Smaller cohesive teams"),(0,i.kt)("li",{parentName:"ul"},"Distributed"))),(0,i.kt)("li",{parentName:"ul"},"His experience",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Data inconsistencies"),(0,i.kt)("li",{parentName:"ul"},"Hot-fix issues in production"))),(0,i.kt)("li",{parentName:"ul"},"The bad",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Significantly higher infrastructure complexity"),(0,i.kt)("li",{parentName:"ul"},"Distributed mess")))),(0,i.kt)("h4",{id:"modularization"},"Modularization"),(0,i.kt)("p",null,"Shopify article on deconstructing the monolith.\nMonolith big ball of mud vs distributed ball of mud."),(0,i.kt)("h4",{id:"cross-pollination-between-architectures"},"Cross-pollination between architectures"),(0,i.kt)("p",null,"Leverage and reuse work from the micro services world into our modular app"),(0,i.kt)("h3",{id:"their-domain"},"Their Domain"),(0,i.kt)("p",null,"Problems when leaving one database.\nLocal transactions are ensured by:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Atomocity - Lose this. Can't roll back things"),(0,i.kt)("li",{parentName:"ul"},"Consistency -"),(0,i.kt)("li",{parentName:"ul"},"Isolation"),(0,i.kt)("li",{parentName:"ul"},"Durability")),(0,i.kt)("h4",{id:"patterns"},"Patterns"),(0,i.kt)("p",null,"Proven solutions to recurring problems"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Transactional Outbox",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Atomically update state and publish events"))),(0,i.kt)("li",{parentName:"ul"})),(0,i.kt)("h3",{id:"pattern-explanations"},"Pattern Explanations"),(0,i.kt)("p",null,"He moved fast through these. I didn't get a lot of notes."),(0,i.kt)("h4",{id:"microservices-patterns"},"Microservices Patterns"),(0,i.kt)("h3",{id:"example-app"},"Example App"),(0,i.kt)("h3",{id:"demo"},"Demo"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/rootstrap/rails-modular-monolith-with-ddd/tree/saga-multi-dbs"},"https://github.com/rootstrap/rails-modular-monolith-with-ddd/tree/saga-multi-dbs")))}h.isMDXComponent=!0}}]);