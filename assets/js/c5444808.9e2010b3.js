"use strict";(self.webpackChunkrailsconf_2023=self.webpackChunkrailsconf_2023||[]).push([[956],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>h});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),p=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(a),d=n,h=u["".concat(s,".").concat(d)]||u[d]||m[d]||o;return a?r.createElement(h,i(i({ref:t},c),{},{components:a})):r.createElement(h,i({ref:t},c))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:n,i[1]=l;for(var p=2;p<o;p++)i[p]=a[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}d.displayName="MDXCreateElement"},5408:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(7294);const n={card:"card_vceO",image:"image_EDOu",description:"description_Vdg7",position:"position_CmtU"};function o(e){let{imageUrl:t,name:a,position:o}=e;return r.createElement("div",{className:n.card},r.createElement("img",{src:t,className:n.image}),r.createElement("div",{className:n.description},r.createElement("p",null,a),r.createElement("p",{className:n.position},o)))}},9983:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(7294);const n={video:"video_lqCn"};function o(e){let{src:t}=e;return r.createElement("iframe",{className:n.video,width:"100%",height:"auto",src:t,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})}},4273:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>l,metadata:()=>p,toc:()=>u});var r=a(7462),n=(a(7294),a(3905)),o=a(5408),i=a(9983);const l={sidebar_position:1},s="Hotwiring My React Brain",p={unversionedId:"day-three/hotwire",id:"day-three/hotwire",title:"Hotwiring My React Brain",description:"Hi. Have you been writing Rails API-mode json backends for React front ends for the last few years? Me too.",source:"@site/docs/day-three/hotwire.mdx",sourceDirName:"day-three",slug:"/day-three/hotwire",permalink:"/railsconf2023/docs/day-three/hotwire",draft:!1,editUrl:"https://github.com/Jeremy-Walton/railsconf2023/tree/main/docs/day-three/hotwire.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"talksSidebar",previous:{title:"Day Three - April 26",permalink:"/railsconf2023/docs/category/day-three---april-26"},next:{title:"Dissecting Rails - a different approach to learning Rails",permalink:"/railsconf2023/docs/day-three/dissecting-rails"}},c={},u=[{value:"Attendees",id:"attendees",level:2},{value:"Notes",id:"notes",level:2},{value:"Resources",id:"resources",level:3}],m={toc:u},d="wrapper";function h(e){let{components:t,...a}=e;return(0,n.kt)(d,(0,r.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"hotwiring-my-react-brain"},"Hotwiring My React Brain"),(0,n.kt)("p",null,"Hi. Have you been writing Rails API-mode json backends for React front ends for the last few years? Me too."),(0,n.kt)(o.Z,{name:"Aji Slater",position:"Development Team Lead, thoughtbot",imageUrl:"https://sessionize.com/image/76dc-400o400o2-VnhWEZS1XWen1q7qUPKYGV.jpg",mdxType:"Speaker"}),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://railsconf2023.sessionize.com/session/453457"},"Schedule Entry")),(0,n.kt)(i.Z,{src:"https://www.youtube.com/embed/PvAf3vZp1b8",mdxType:"Video"}),(0,n.kt)("h2",{id:"attendees"},"Attendees"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Jeremy"),(0,n.kt)("li",{parentName:"ul"},"Reed")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Relevancy"),(0,n.kt)("th",{parentName:"tr",align:null},"Interesting"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"9"),(0,n.kt)("td",{parentName:"tr",align:null},"5")))),(0,n.kt)("h2",{id:"notes"},"Notes"),(0,n.kt)("p",null,"React patterns don\u2019t work in Hotwire. Hotwire is the default front-end in Rails 7. Made up of Turbo and Stimulus. Single Page Application (SPA) is a broad term. Hotwire has the same feel. React\u2019s mental model is a tree of components. Each element can render DOM elements. Data can only flow down the tree. Data flow is fundamental (\u201cData Down\u201d). Network requests are irrelevant. A component gets some props and conditionally renders children. Forget that React makes network calls. Only way to return data back up the tree is actions (\u201cActions Up\u201d). State changes cause updates."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Rails Guides site example",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Pages, Chapters, and Paragraphs"),(0,n.kt)("li",{parentName:"ul"},"Start as if there is no JS"),(0,n.kt)("li",{parentName:"ul"},"_navigation_frame.html.erb partial (in layout?)"),(0,n.kt)("li",{parentName:"ul"},"show.html.erb hold content"),(0,n.kt)("li",{parentName:"ul"},"In React, only way to another frame is back up the tree"),(0,n.kt)("li",{parentName:"ul"},"Make first request and receive Chapter 1"),(0,n.kt)("li",{parentName:"ul"},"Click link and turbo sends Chapter 2"),(0,n.kt)("li",{parentName:"ul"},"Turbo removes old turbo frame and updates the part that needs changing"),(0,n.kt)("li",{parentName:"ul"},"Apply turbo frame to pages region"),(0,n.kt)("li",{parentName:"ul"},"Data tells link to target a specific frame"),(0,n.kt)("li",{parentName:"ul"},"Turbo frame tag has option to set source path"),(0,n.kt)("li",{parentName:"ul"},"Adding live in-line editing"),(0,n.kt)("li",{parentName:"ul"},"Need to toggle between read and edit mode"),(0,n.kt)("li",{parentName:"ul"},"React uses local state and two components, one for each mode"),(0,n.kt)("li",{parentName:"ul"},"Hotwire starts with standard Rails controller"),(0,n.kt)("li",{parentName:"ul"},"Paragraphs are sent into Kramdown for Markdown rendering"),(0,n.kt)("li",{parentName:"ul"},"Move rendering to a partial and wrap it in turbo frame with dom_id"),(0,n.kt)("li",{parentName:"ul"},"Add link to RESTful edit route"),(0,n.kt)("li",{parentName:"ul"},"Closer we stick to convention the easier this will be"),(0,n.kt)("li",{parentName:"ul"},"Edit template is standard Rails form"),(0,n.kt)("li",{parentName:"ul"},"Hotwire opens possibilities without JS"),(0,n.kt)("li",{parentName:"ul"},"Stimulus adds interactivity"),(0,n.kt)("li",{parentName:"ul"},"Adding keydown listener"),(0,n.kt)("li",{parentName:"ul"},"Add data-controller to application layout body"),(0,n.kt)("li",{parentName:"ul"},"Same controller#action convention as Rails"),(0,n.kt)("li",{parentName:"ul"},"Modal wraps a Rails form with Stimulus attributes"),(0,n.kt)("li",{parentName:"ul"},"Response scoped to empty turbo frame"))),(0,n.kt)("li",{parentName:"ul"},"Watch Thoughtbot blog for updates to this talk")),(0,n.kt)("h3",{id:"resources"},"Resources"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://thoughtbot.com/blog/tags/hotwire"},"Hotwire on the thoughtbot Blog")),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/thoughtbot/hotwire-example-template"},"thoughtbot Hotwire Examples")),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://www.hotrails.dev/turbo-rails"},"Hotrails Turbo Rails Tutorial")),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/ilrock__/status/1631315562390519809"},"30 Days of Hotwire by @ilrock__ on Twitter")),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://www.snappify.com"},"Code Sample Image Tool")))}h.isMDXComponent=!0}}]);